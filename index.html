<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MRV Gestão</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <style>
        :root { --primary: #00D084; --secondary: #2C3E50; --bg: #F0F2F5; --surface: #FFFFFF; --text: #1F2937; --danger: #EF4444; --success: #10B981; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); margin: 0; padding: 15px; color: var(--text); -webkit-font-smoothing: antialiased; }
        .container { max-width: 600px; margin: 0 auto; padding-bottom: 80px; }

        .dashboard-header { background: var(--surface); padding: 20px; border-radius: 16px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); margin-bottom: 20px; border-top: 4px solid var(--primary); }
        .control-grid { display: grid; grid-template-columns: 1fr 1.5fr; gap: 10px; margin-top: 15px; }
        select, input[type="date"] { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #E5E7EB; background: #F9FAFB; font-weight: 600; color: var(--secondary); font-size: 0.9rem; appearance: none; box-sizing: border-box; }

        /* TELHADO */
        .roof-card { background: #374151; color: white; padding: 15px; border-radius: 12px 12px 4px 4px; margin-bottom: 10px; text-align: center; font-weight: 700; cursor: pointer; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border: 2px solid transparent; transition: 0.2s; }
        .roof-card.ok { background: var(--success); border-color: var(--success); }
        .roof-card.pendente { background: var(--danger); animation: pulse 2s infinite; }

        .floor-card { background: var(--surface); border-radius: 12px; padding: 15px; padding-top: 40px; box-shadow: 0 2px 4px rgba(0,0,0,0.03); position: relative; margin-bottom: 15px; }
        .floor-badge { position: absolute; top: 10px; left: 10px; background: var(--secondary); color: white; font-size: 0.75rem; font-weight: 700; padding: 4px 10px; border-radius: 6px; }
        .floor-layout { display: flex; flex-direction: column; gap: 8px; }
        .row-units { display: flex; gap: 8px; justify-content: center; }
        .row-hall { display: flex; justify-content: center; margin: 5px 0; }

        .unit { flex: 1; height: 48px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 0.85rem; font-weight: 700; cursor: pointer; background: #F3F4F6; color: #9CA3AF; transition: transform 0.1s; border: 1px solid transparent; user-select: none; }
        .unit:active { transform: scale(0.95); }
        .unit.hall-btn { max-width: 140px; height: 32px; background: transparent; border: 2px dashed #D1D5DB; color: #6B7280; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1px; }

        .unit.ok { background: var(--success); color: white; }
        .unit.pendente { background: var(--danger); color: white; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.8; } 100% { opacity: 1; } }

        /* MODAL */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 100; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(4px); }
        .modal { background: white; width: 90%; max-width: 380px; padding: 24px; border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.2); animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1); max-height: 90vh; overflow-y: auto; }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        .label-section { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; color: #9CA3AF; margin-bottom: 6px; display: block; margin-top: 15px; }
        .btn-group { display: flex; gap: 10px; margin-bottom: 5px; }
        .btn-opt { flex: 1; padding: 14px; border-radius: 10px; border: 2px solid #F3F4F6; background: white; font-weight: 600; cursor: pointer; text-align: center; color: var(--text); display: flex; align-items: center; justify-content: center; gap: 8px; transition: 0.2s; }
        .btn-opt.sel-ok { background: var(--success); color: white; border-color: var(--success); }
        .btn-opt.sel-err { background: var(--danger); color: white; border-color: var(--danger); }
        textarea { width: 100%; padding: 12px; border: 1px solid #D1D5DB; border-radius: 8px; height: 70px; font-family: inherit; margin-bottom: 10px; box-sizing: border-box; resize: none; }
        .btn-save { width: 100%; padding: 16px; background: var(--secondary); color: white; border: none; border-radius: 12px; font-weight: 700; cursor: pointer; margin-top: 10px; font-size: 1rem; }

        /* ESTILOS DE RELATÓRIO E MENU */
        .btn-report { background: #E0E7FF; color: #3730A3; border: none; padding: 12px; border-radius: 12px; font-weight: 700; font-size: 0.9rem; cursor: pointer; display: flex; align-items: center; gap: 8px; margin-top: 15px; width: 100%; justify-content: center; transition: 0.2s; }
        
        .menu-btn { width: 100%; padding: 20px; border-radius: 12px; border: 1px solid #E5E7EB; background: #F9FAFB; font-weight: 700; font-size: 1rem; color: var(--secondary); cursor: pointer; display: flex; align-items: center; gap: 15px; margin-bottom: 10px; text-align: left; transition: 0.2s; }
        .menu-btn:hover { background: #EEF2FF; border-color: #3730A3; color: #3730A3; }
        .menu-icon { font-size: 1.5rem; color: #6B7280; }

        /* Cards de Resultado */
        .prod-card { background: #ECFDF5; padding: 15px; border-radius: 10px; text-align: center; border: 1px solid var(--success); margin-top: 15px; }
        .prod-val { font-size: 2.5rem; font-weight: 800; color: var(--success); display: block; line-height: 1; }
        .prod-sub { font-size: 0.9rem; color: #065F46; margin-top: 5px; display: block; font-weight: 600; }
        
        .team-card { background: #F9FAFB; border: 1px solid #E5E7EB; border-radius: 8px; padding: 12px; margin-bottom: 10px; }
        .team-header { display: flex; justify-content: space-between; font-weight: 700; color: var(--secondary); margin-bottom: 5px; }
        .team-count { color: var(--success); background: #ECFDF5; padding: 2px 8px; border-radius: 4px; font-size: 0.85rem; }
        .team-units { font-size: 0.75rem; color: #6B7280; line-height: 1.4; word-break: break-all; }

        .toast { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #1F2937; color: white; padding: 12px 24px; border-radius: 30px; font-size: 0.9rem; font-weight: 600; z-index: 200; display: flex; align-items: center; gap: 8px; box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
    </style>
</head>
<body>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const SUPABASE_URL = 'https://iisvzfzcpxxgkasmteft.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlpc3Z6ZnpjcHh4Z2thc210ZWZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzNzcyOTgsImV4cCI6MjA3OTk1MzI5OH0.HxkLQxXb8yohwP9nK6IfxGzxH1ItlMwmXpHVZb6qlGo';
        const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        const TORRES = ["Torre 5", "Torre 2", "Torre 3", "Torre 4"];
        const FASES = ["POS FORMA", "ESQUADRIAS", "IMPERMEABILIZAÇÃO", "ALVENARIA BLOCO", "FECHAMENTO SHAFT"];
        const ANDARES = 8;

        const EQUIPES_POR_FASE = {
            "POS FORMA": ["LD", "MOP", "VITHAL"],
            "ESQUADRIAS": ["MOP AURIAN", "MOP HELDE"],
            "IMPERMEABILIZAÇÃO": ["LD BRIAGE"],
            "ALVENARIA BLOCO": ["LD"],
            "FECHAMENTO SHAFT": ["LW", "TOP LIMPE"]
        };

        function App() {
            const [torre, setTorre] = useState(TORRES[0]);
            const [fase, setFase] = useState(FASES[0]);
            const [dados, setDados] = useState({});
            
            // ESTADOS DE MODAIS
            const [modalVistoriaOpen, setModalVistoriaOpen] = useState(false);
            const [menuRelatorioOpen, setMenuRelatorioOpen] = useState(false); // O Menu Principal
            const [modalProducaoOpen, setModalProducaoOpen] = useState(false); // O de % (V5)
            const [modalMedicaoOpen, setModalMedicaoOpen] = useState(false); // O de Equipe (V6)
            
            const [itemEditando, setItemEditando] = useState(null);
            const [toast, setToast] = useState(null);

            // Carrega dados da Torre/Fase
            useEffect(() => {
                async function load() {
                    setDados({});
                    const { data } = await supabase.from('vistorias').select('*').eq('torre', torre).eq('fase', fase);
                    const map = {};
                    if(data) data.forEach(i => map[i.unidade] = i);
                    setDados(map);
                }
                load();
            }, [torre, fase]);

            // Regras de Alvenaria
            const isAlvenaria = fase === "ALVENARIA BLOCO";
            const shouldShow = (num) => {
                if(!isAlvenaria) return true;
                const final = num % 10;
                return [3, 4, 5, 6].includes(final);
            };
            const calcularEscopoTotal = () => isAlvenaria ? (4 * 8) + 1 : (8 * 8) + 8;

            const save = async (status, obs, equipe) => {
                const idUnidade = itemEditando.id.toString();
                const idUnico = `${torre}_${fase}_${idUnidade}`.trim();
                const obsFinal = status === 'ok' ? '' : obs; 

                // Fuso Manaus (-4h)
                const agora = new Date();
                const dataManaus = new Date(agora.getTime() - (4 * 60 * 60 * 1000));

                setDados(prev => ({
                    ...prev, 
                    [idUnidade]: { ...prev[idUnidade], status, obs: obsFinal, equipe }
                }));
                
                setModalVistoriaOpen(false);
                setToast("Salvo com sucesso!");
                setTimeout(()=>setToast(null), 2500);

                const { error } = await supabase.from('vistorias').upsert({
                    id: idUnico, torre, fase, unidade: idUnidade,
                    status, obs: obsFinal, equipe, 
                    updated_at: dataManaus 
                }, { onConflict: 'id' });

                if (error) { console.error(error); setToast("Erro ao salvar!"); }
            };

            const getItem = (id) => dados[id] || {status: null, obs: '', equipe: ''};
            
            const handleUnitClick = (ap) => {
                setItemEditando({ ...getItem(ap), id: ap });
                setModalVistoriaOpen(true);
            };

            // Progresso Visual (Barra)
            const totalScope = calcularEscopoTotal();
            const doneCount = Object.keys(dados).filter(key => {
                const item = dados[key];
                if(item.status !== 'ok') return false;
                if(key === "COBERTURA") return isAlvenaria; 
                if(String(key).includes("HALL")) return !isAlvenaria;
                const num = parseInt(key);
                if(!isNaN(num)) return shouldShow(num);
                return false;
            }).length;
            const progresso = Math.round((doneCount / totalScope) * 100) || 0;

            return (
                <div className="container">
                    {toast && <div className="toast"><i className="ph-fill ph-check-circle"></i> {toast}</div>}

                    <div className="dashboard-header">
                        <h1 style={{margin:0, color:'var(--secondary)'}}>MRV Gestão</h1>
                        
                        <div className="control-grid">
                            <select value={torre} onChange={e=>setTorre(e.target.value)}>{TORRES.map(t=><option key={t}>{t}</option>)}</select>
                            <select value={fase} onChange={e=>setFase(e.target.value)}>{FASES.map(f=><option key={f}>{f}</option>)}</select>
                        </div>

                        {/* BOTÃO PRINCIPAL DE RELATÓRIOS */}
                        <button className="btn-report" onClick={()=>setMenuRelatorioOpen(true)}>
                            <i className="ph-bold ph-files"></i> MENU DE RELATÓRIOS
                        </button>

                        <div style={{marginTop:15}}>
                            <div style={{display:'flex', justifyContent:'space-between', marginBottom:5, fontSize:'0.7rem', fontWeight:'bold', color:'#666'}}>
                                <span>AVANÇO ({fase === 'ALVENARIA BLOCO' ? 'Reduzido' : 'Total'})</span> <span>{progresso}%</span>
                            </div>
                            <div style={{height:8, background:'#E5E7EB', borderRadius:10, overflow:'hidden'}}>
                                <div style={{width:`${progresso}%`, height:'100%', background:'var(--primary)', transition:'width 0.5s ease'}}></div>
                            </div>
                        </div>
                    </div>

                    {isAlvenaria && (
                        <div className={`roof-card ${getItem('COBERTURA').status}`} onClick={()=>handleUnitClick('COBERTURA')}>
                            <i className="ph-fill ph-house-line"></i> Cobertura / Telhado
                        </div>
                    )}

                    <div className="building-card">
                        {Array.from({length: ANDARES}, (_, i) => {
                            const andar = ANDARES - i;
                            const linhaCima = isAlvenaria ? [5, 6] : [5, 6, 7, 8];
                            const linhaBaixo = isAlvenaria ? [3, 4] : [1, 2, 3, 4];

                            return (
                                <div key={andar} className="floor-card">
                                    <div className="floor-badge">{andar}º PAV</div>
                                    <div className="floor-layout">
                                        <div className="row-units">
                                            {linhaCima.map(n => { const ap = (andar*100)+n; return <Unit key={ap} id={ap} data={getItem(ap)} onClick={()=>handleUnitClick(ap)} /> })}
                                        </div>
                                        {!isAlvenaria && (
                                            <div className="row-hall">
                                                <Unit id={`HALL-${andar}`} label="HALL" isHall={true} data={getItem(`HALL-${andar}`)} onClick={()=>handleUnitClick(`HALL-${andar}`)} />
                                            </div>
                                        )}
                                        <div className="row-units">
                                            {linhaBaixo.map(n => { const ap = (andar*100)+n; return <Unit key={ap} id={ap} data={getItem(ap)} onClick={()=>handleUnitClick(ap)} /> })}
                                        </div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>

                    {/* --- MODAIS DO SISTEMA --- */}

                    {/* 1. Modal de Vistoria (Edição) */}
                    {modalVistoriaOpen && <ModalVistoria item={itemEditando} faseAtual={fase} onClose={()=>setModalVistoriaOpen(false)} onSave={save} />}
                    
                    {/* 2. Menu de Escolha de Relatório */}
                    {menuRelatorioOpen && (
                        <div className="modal-overlay" onClick={()=>setMenuRelatorioOpen(false)}>
                            <div className="modal" onClick={e=>e.stopPropagation()}>
                                <h3 style={{marginTop:0, color:'var(--secondary)', textAlign:'center'}}>Qual relatório deseja?</h3>
                                
                                <button className="menu-btn" onClick={()=>{setMenuRelatorioOpen(false); setModalProducaoOpen(true);}}>
                                    <i className="ph-duotone ph-chart-line-up menu-icon" style={{color:'var(--primary)'}}></i>
                                    <div>
                                        <span style={{display:'block'}}>Produção</span>
                                        <span style={{fontSize:'0.8rem', color:'#999', fontWeight:'400'}}>Mostra porcentagem e total concluído.</span>
                                    </div>
                                </button>

                                <button className="menu-btn" onClick={()=>{setMenuRelatorioOpen(false); setModalMedicaoOpen(true);}}>
                                    <i className="ph-duotone ph-users-three menu-icon" style={{color:'#3B82F6'}}></i>
                                    <div>
                                        <span style={{display:'block'}}>Medição</span>
                                        <span style={{fontSize:'0.8rem', color:'#999', fontWeight:'400'}}>Lista os apartamentos por equipe.</span>
                                    </div>
                                </button>

                                <button onClick={()=>setMenuRelatorioOpen(false)} style={{background:'transparent', border:'none', color:'#666', width:'100%', padding:15, cursor:'pointer'}}>Cancelar</button>
                            </div>
                        </div>
                    )}

                    {/* 3. Relatório de Produção (Avanço Físico - Porcentagem) */}
                    {modalProducaoOpen && <ModalProducao 
                        onClose={()=>setModalProducaoOpen(false)} 
                        supabase={supabase} 
                        torreAtual={torre} 
                        faseAtual={fase}
                        totalEscopo={totalScope}
                    />}

                    {/* 4. Relatório de Medição (Detalhado - Equipes) */}
                    {modalMedicaoOpen && <ModalMedicao 
                        onClose={()=>setModalMedicaoOpen(false)} 
                        supabase={supabase} 
                        torreAtual={torre} 
                        faseAtual={fase}
                    />}
                </div>
            );
        }

        function Unit({ id, label, isHall, data, onClick }) {
            let cls = `unit ${isHall ? 'hall-btn' : ''}`;
            if(data.status === 'ok') cls += ' ok';
            if(data.status === 'pendente') cls += ' pendente';
            let content = label || id;
            if(!isHall && data.status === 'ok') content = <i className="ph-bold ph-check"></i>;
            if(!isHall && data.status === 'pendente') content = <i className="ph-bold ph-warning"></i>;
            return <div className={cls} onClick={onClick}>{content}</div>;
        }

        // --- COMPONENTES DE RELATÓRIO ---

        function ModalProducao({ onClose, supabase, torreAtual, faseAtual, totalEscopo }) {
            const [dtInicio, setDtInicio] = useState('');
            const [dtFim, setDtFim] = useState('');
            const [loading, setLoading] = useState(false);
            const [stats, setStats] = useState(null);

            const gerar = async () => {
                if(!dtInicio || !dtFim) return alert("Selecione as datas!");
                setLoading(true);
                const { count } = await supabase.from('vistorias').select('*', { count: 'exact' })
                    .eq('torre', torreAtual).eq('fase', faseAtual).eq('status', 'ok')
                    .gte('updated_at', dtInicio + 'T00:00:00').lte('updated_at', dtFim + 'T23:59:59');
                
                const produced = count || 0;
                const percent = totalEscopo > 0 ? Math.round((produced / totalEscopo) * 100) : 0;
                setStats({ produced, percent });
                setLoading(false);
            };

            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal" onClick={e=>e.stopPropagation()}>
                        <h3 style={{marginTop:0, color:'var(--secondary)'}}>Produção: {torreAtual}</h3>
                        <div style={{display:'flex', gap:10, marginBottom:15}}>
                            <input type="date" value={dtInicio} onChange={e=>setDtInicio(e.target.value)} />
                            <input type="date" value={dtFim} onChange={e=>setDtFim(e.target.value)} />
                        </div>
                        <button className="btn-save" onClick={gerar}>{loading ? 'Calculando...' : 'Ver Avanço'}</button>
                        {stats && (
                            <div style={{marginTop:20}}>
                                <div className="prod-card">
                                    <span className="prod-val">{stats.produced}</span>
                                    <span className="prod-sub">UNIDADES FEITAS</span>
                                </div>
                                <div className="prod-card" style={{marginTop:10, borderColor:'var(--primary)', background:'#F0FDF4'}}>
                                    <span className="prod-val">{stats.percent}%</span>
                                    <span className="prod-sub">DE AVANÇO NESTE PERÍODO</span>
                                </div>
                                <p style={{textAlign:'center', fontSize:'0.8rem', color:'#999', marginTop:10}}>Base total: {totalEscopo} unidades.</p>
                            </div>
                        )}
                        <button onClick={onClose} style={{background:'transparent', border:'none', color:'#666', width:'100%', padding:15, marginTop:10, cursor:'pointer'}}>Fechar</button>
                    </div>
                </div>
            )
        }

        function ModalMedicao({ onClose, supabase, torreAtual, faseAtual }) {
            const [dtInicio, setDtInicio] = useState('');
            const [dtFim, setDtFim] = useState('');
            const [loading, setLoading] = useState(false);
            const [medicao, setMedicao] = useState(null);

            const gerar = async () => {
                if(!dtInicio || !dtFim) return alert("Selecione as datas!");
                setLoading(true);
                const { data } = await supabase.from('vistorias').select('*')
                    .eq('torre', torreAtual).eq('fase', faseAtual).eq('status', 'ok')
                    .gte('updated_at', dtInicio + 'T00:00:00').lte('updated_at', dtFim + 'T23:59:59');

                if(data) {
                    const porEquipe = {};
                    data.forEach(item => {
                        const eq = item.equipe || "SEM EQUIPE";
                        if(!porEquipe[eq]) porEquipe[eq] = [];
                        porEquipe[eq].push(item.unidade);
                    });
                    Object.keys(porEquipe).forEach(eq => porEquipe[eq].sort());
                    setMedicao({ total: data.length, detalhes: porEquipe });
                }
                setLoading(false);
            };

            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal" onClick={e=>e.stopPropagation()}>
                        <h3 style={{marginTop:0, color:'var(--secondary)'}}>Medição: {torreAtual}</h3>
                        <div style={{display:'flex', gap:10, marginBottom:15}}>
                            <input type="date" value={dtInicio} onChange={e=>setDtInicio(e.target.value)} />
                            <input type="date" value={dtFim} onChange={e=>setDtFim(e.target.value)} />
                        </div>
                        <button className="btn-save" onClick={gerar}>{loading ? 'Calculando...' : 'Ver Medição'}</button>
                        
                        {medicao && (
                            <div style={{marginTop:20, animation:'slideUp 0.3s'}}>
                                <div style={{textAlign:'center', marginBottom:15}}>
                                    <span style={{fontSize:'2rem', fontWeight:'800', color:'var(--primary)'}}>{medicao.total}</span>
                                    <span style={{display:'block', fontSize:'0.75rem', fontWeight:'bold', color:'#666'}}>TOTAL PRODUZIDO</span>
                                </div>
                                {Object.keys(medicao.detalhes).length === 0 && <p style={{textAlign:'center', color:'#999'}}>Nada encontrado.</p>}
                                {Object.keys(medicao.detalhes).map(eq => (
                                    <div key={eq} className="team-card">
                                        <div className="team-header"><span>{eq}</span><span className="team-count">{medicao.detalhes[eq].length} UN</span></div>
                                        <div className="team-units">{medicao.detalhes[eq].join(', ')}</div>
                                    </div>
                                ))}
                            </div>
                        )}
                        <button onClick={onClose} style={{background:'transparent', border:'none', color:'#666', width:'100%', padding:15, marginTop:10, cursor:'pointer'}}>Fechar</button>
                    </div>
                </div>
            )
        }

        function ModalVistoria({ item, faseAtual, onClose, onSave }) {
            const [status, setStatus] = useState(item.status);
            const [obs, setObs] = useState(item.obs || "");
            const [equipe, setEquipe] = useState(item.equipe || ""); 
            const listaEquipes = EQUIPES_POR_FASE[faseAtual] || [];

            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal" onClick={e=>e.stopPropagation()}>
                        <h3 style={{marginTop:0, color:'var(--secondary)'}}>{String(item.id).includes('HALL')?'Hall':(item.id === 'COBERTURA' ? 'Cobertura' : 'Apto '+item.id)}</h3>
                        
                        <span className="label-section">1. EQUIPE</span>
                        <select value={equipe} onChange={e=>setEquipe(e.target.value)} style={{marginBottom:15}}>
                            <option value="">-- Selecione --</option>
                            {listaEquipes.map(eq => <option key={eq} value={eq}>{eq}</option>)}
                        </select>

                        <span className="label-section">2. AVALIAÇÃO</span>
                        <div className="btn-group">
                            <div className={`btn-opt ${status==='ok'?'sel-ok':''}`} onClick={()=>setStatus('ok')}><i className="ph-bold ph-thumbs-up"></i> Aprovado</div>
                            <div className={`btn-opt ${status==='pendente'?'sel-err':''}`} onClick={()=>setStatus('pendente')}><i className="ph-bold ph-warning-circle"></i> Pendente</div>
                        </div>

                        {status === 'pendente' && (
                            <div style={{animation:'slideUp 0.2s'}}>
                                <span className="label-section" style={{color:'var(--danger)'}}>O QUE ESTÁ ERRADO?</span>
                                <textarea autoFocus placeholder="Descreva a falha..." value={obs} onChange={e=>setObs(e.target.value)}></textarea>
                            </div>
                        )}
                        <button className="btn-save" onClick={()=>onSave(status, obs, equipe)}>SALVAR DADOS</button>
                    </div>
                </div>
            )
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
